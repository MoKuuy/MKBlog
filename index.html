<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>椛泥棒的个人博客</title>
    <link rel="stylesheet" href="./css/main.css" type="text/css">
    <script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <head2 class="head2">
        <ul id="nav">
            <!-- <li class="slide1"></li> -->
            <li class="slidetop"></li>
            <li><a href="#title">首页</a></li>
            <li><a href="#xx">介绍</a></li>
            <li><a href="#">项目</a></li>
            <li><a href="#">联系方式</a></li>

        </ul>
    </head2>

    <div id="title" class="shell">
        <header>
            <div class="img"></div>
        </header> 
    </div>


    <div class="shell2" >
        <img src="./img/tx.png" alt="" class="cover">
        <div class="head">
            <div class="data">
                <div class="title1">椛泥棒<span><a href="https://space.bilibili.com/16439888?spm_id_from=333.1007.0.0">BILIBILI</a></div>
                <div class="title2">MoKuuy<span><a href="https://github.com/MoKuuy">GitHub</a></div>
            </div>
        </div>
        <div class="foot">
            <div class="tags">
                <span class="tag">#JAVA</span>
                <span class="tag">#Python</span>
                <span class="tag">#HTML</span>
                <span class="tag">#MySQL</span>
                <span class="tag">#MMD</span>
                <span class="tag">#Blender</span>
                <span class="tag">#C</span>
                <span class="tag">#C++</span>


            </div>
            <div id="xx" class="introduce">
                <p>
                    Hi！欢迎来到我的主页。
                    
                </p>
            </div>
        </div>

    </div>
    


</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>

    const header = document.querySelector('header');
    const img = document.querySelector('.img')
    let scrollDistance = 0;
    let requestId = null;
    function updateHeaderClipPath(){
        const clipPathValue = `polygon(0 0, 100% 0%, 100% ${(scrollDistance <= 600) ? 100 - ((scrollDistance / 600)*60) : 75}%, 0 100%)`;
        header.style.clipPath = clipPathValue;
        const scaleValue = 1 + ((scrollDistance / 600)*1);
        img.style.transform = `scale(${scaleValue})`;
        const opacityValue = (scrollDistance / 600);
    }

    function scrollHandler(event){
        if(event.deltaY < 0){
            scrollDistance = Math.max(0, scrollDistance + event.deltaY);
        }else{
            scrollDistance = Math.min(600, scrollDistance + event.deltaY)
        }
        if(! requestId){
            requestId = window.requestAnimationFrame(() =>{
                updateHeaderClipPath();
                requestId = null;
            })
        }
    }
    window.addEventListener('wheel',scrollHandler)

    $("#nav a").on("mouseover", function () {
        var position = $(this).parent().position();
        var width = $(this).parent().width();
        $("#nav .slidetop").css({ opacity: 1, left: +position.left, width: width }).addClass("squeeze");
    });
    $("#nav a").on("mouseout", function () {
        $("#nav .slidetop").css({ opacity: 0 }).removeClass("squeeze");
    });

</script>
</html>
